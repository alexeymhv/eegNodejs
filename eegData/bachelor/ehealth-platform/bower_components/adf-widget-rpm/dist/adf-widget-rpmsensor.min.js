!function(e,t){"use strict";var r=angular.module("adf.widget.rpmsensor",["adf.provider","highcharts-ng"]);r.config(["dashboardProvider",function(e){e.widget("rpmsensor",{title:"RPM",description:"This widget shows a chart of your breath rate",templateUrl:"{widgetsPath}/rpmsensor/src/view.html",controller:"rpmController",controllerAs:"rpm",reload:!0,edit:{templateUrl:"{widgetsPath}/rpmsensor/src/edit.html"}})}]),r.factory("socket",function(){var e=io.connect("http://127.0.1.1:3000");return e}),r.controller("rpmController",["$scope","$interval","socket",function(e,t,r){r.on("breathe data",function(t){for(var r=new Array,o=0;o<t.length;o++)r.push({x:parseFloat(t[o].frequency),y:parseFloat(t[o].magnitude)});e.chartConfig={chart:{type:"line",animation:!1,zoomType:"x"},title:{text:"Live RPM"},plotOptions:{line:{marker:{enabled:!1}},series:{turboThreshold:0}},xAxis:{type:"categories",tickPixelInterval:100},yAxis:{title:{text:"Magnitude"},max:.5,min:0},series:[{name:"RPM",data:r}]},e.$digest()})}]),angular.module("adf.widget.rpmsensor").run(["$templateCache",function(e){e.put("{widgetsPath}/rpmsensor/src/edit.html",'<form role=form><div class=form-group><label for=sample>Sample</label> <input type=text class=form-control id=sample ng-model=config.sample placeholder="Enter sample"></div></form>'),e.put("{widgetsPath}/rpmsensor/src/view.html","<div ng-controller=rpmController><div ng-if=chartConfig><highchart id=chart1 config=chartConfig></highchart></div></div>")}])}(window);